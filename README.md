# FeedbackBot

**FeedbackBot** ‚Äî –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π Telegram-–±–æ—Ç –¥–ª—è —Å–±–æ—Ä–∞ –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –æ–±—Ä–∞—â–µ–Ω–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.

–ë–æ—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ **Vapor¬†4 (Swift¬†6)** –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **PostgreSQL** –≤ –∫–∞—á–µ—Å—Ç–≤–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.  
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —á–µ—Ä–µ–∑ **Docker**, –∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –∏ –¥–µ–ø–ª–æ–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å –ø–æ–º–æ—â—å—é **GitHub¬†Actions**.  
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ **Uptime¬†Kuma**, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∏ –¥–µ–ø–ª–æ–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ Telegram.

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π Telegram-–±–æ—Ç –Ω–∞ **Long¬†Polling**;
- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é `/start` —Å –∫–Ω–æ–ø–∫–∞–º–∏ **¬´–û—Å—Ç–∞–≤–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ¬ª** –∏ **¬´–≠–∫—Å–ø–æ—Ä—Ç¬ª**;
- –ü—Ä–∏—ë–º –æ–±—Ä–∞—â–µ–Ω–∏–π –∏ –∏—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ **PostgreSQL**;
- **–≠–∫—Å–ø–æ—Ä—Ç –æ–±—Ä–∞—â–µ–Ω–∏–π –≤ CSV** —Å:
  - —Ä—É—Å—Å–∫–∏–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ —Å—Ç–æ–ª–±—Ü–æ–≤,
  - –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º –æ–±—Ä–∞—â–µ–Ω–∏—è (–ø–æ –ú–æ—Å–∫–≤–µ, +03:00),
  - –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ç–µ–∫—Å—Ç–∞,
  - —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ **CRLF + UTF‚Äë8¬†BOM** –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å **Windows¬†Excel** –∏ **macOS¬†Numbers**;
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ multipart‚Äë–∑–∞–ø—Ä–æ—Å–æ–≤ –≤ `TelegramService`;
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π;
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –∏ –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ **GitHub¬†Actions**;
- Health‚Äë—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã `/health` –∏ `/healthz` –¥–ª—è **Uptime¬†Kuma**.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –ø–æ –º–æ–¥—É–ª—å–Ω–æ–º—É –ø—Ä–∏–Ω—Ü–∏–ø—É:

| –ü–∞–ø–∫–∞ / –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|---------------|------------|
| `TelegramTypes.swift` | –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä Telegram API |
| `TelegramService.swift` | –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å Telegram¬†API |
| `TelegramPolling.swift` | –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑¬†Long¬†Polling |
| `TelegramUpdateProcessor.swift` | –û—Å–Ω–æ–≤–Ω–∞—è –±–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫–∞ (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥, —ç–∫—Å–ø–æ—Ä—Ç) |
| `SessionStore.swift` | –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Å—Å–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| `CSVExporter.swift` | –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV‚Äë—Ñ–∞–π–ª—ã (RFC‚Äë4180‚Äë—Å–æ–≤–º–µ—Å—Ç–∏–º–æ) |
| `Feedback.swift` | –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö –æ–±—Ä–∞—â–µ–Ω–∏—è |

---

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
BOT_TOKEN=your_telegram_bot_token_here
DATABASE_URL=postgresql://user:password@localhost:5432/feedbackbotdb
SERVER_PORT=8080
```

---

## üê≥ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑¬†Docker

```bash
docker compose up -d --build
```

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –±–æ—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:8080`, –∞ –≤ Telegram –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `/start`.

---

## ü©∫ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- `/health`¬†‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  
- `/healthz`¬†‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫¬†PostgreSQL  
–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `/healthz` –≤ **Uptime¬†Kuma**.

---

## ‚ú® –ê–≤—Ç–æ—Ä—ã

–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ ‚Äî [–†–æ–º–∞–Ω¬†–ü—à–µ–Ω–∏—á–Ω–∏–∫–æ–≤](https://github.com/your-profile)  
–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ —á–∞—Å—Ç—å —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏.
